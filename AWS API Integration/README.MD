# THE 3-MINUTES API SOLUTION

A **Python application** that collects data from the **TSM API**, tracks **GPS location data**, and stores power consumption metrics in **Google Sheets**.

## ğŸš€ Features

âœ… **Fetches historical consumption data** from TSM API  
âœ… **Tracks GPS location data**  
âœ… **Stores data in Google Sheets**  
âœ… **Calculates daily power consumption metrics**  
âœ… **Supports battery and generator consumption tracking**  

## ğŸ›  Prerequisites

- **Python 3.7+**
- **Google Sheets API access**
- **TSM API access**
- Required Python packages (see `requirements.txt`)

## âš™ï¸ Configuration

Create a `config.py` file with the following structure:

```python
# Google Sheets Configuration
SHEET_ID = 'YOUR_GOOGLE_SHEET_ID'
CREDENTIALS_PATH = 'path/to/your/credentials.json'

# TSM API Configuration
TSM_INSTALLATION_ID = 'YOUR_TSM_INSTALLATION_ID'
TSM_TOKEN = 'YOUR_TSM_API_TOKEN'
```

## ğŸ“‚ Project Structure

```
project-root/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ tess.py
â”‚   â””â”€â”€ config.py
â”œâ”€â”€ credentials/
â”‚   â””â”€â”€ google_credentials.json
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ğŸ“¥ Installation

### 1ï¸âƒ£ Clone the Repository

```bash
git clone https://github.com/YOUR_USERNAME/TSM-Data-Collector.git
cd TSM-Data-Collector
```

### 2ï¸âƒ£ Install Required Packages

```bash
pip install -r requirements.txt
```

### 3ï¸âƒ£ Set Up Configuration Files

Follow the **[Configuration](#-configuration)** section to set up your API keys and credentials.

## â–¶ï¸ Usage

Run the main script:

```bash
python src/tess.py
```

## ğŸ“Š Data Structure

### **Main Sheet Columns**

| Column Name       | Description                  |
|------------------|------------------------------|
| Date            | Timestamp of entry            |
| Battery (kWh)   | Power consumed from battery   |
| Generator (kWh) | Power generated               |
| Consumption (kWh) | Total power consumed        |
| Installation Name | TSM Installation Identifier |

### **GPS Data Sheet Columns**

| Column Name       | Description                  |
|------------------|------------------------------|
| Date            | Timestamp of GPS entry        |
| Latitude        | GPS Latitude                  |
| Longitude       | GPS Longitude                 |
| Installation Name | TSM Installation Identifier |

## ğŸ“¦ Required Python Packages

```bash
pip install pandas google-auth google-auth-oauthlib google-auth-httplib2 google-api-python-client requests
```

## ğŸ“œ License

This project is licensed under the **MIT License**.

## ğŸ“Œ Author

[Leonard Palad](https://www.linkedin.com/in/leonardspalad/)  
[Blog](https://www.cloudhermit.com.au/)
